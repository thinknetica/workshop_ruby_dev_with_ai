# Журнал разработки роли "Hallucination Checker"

## Описание задачи
Создать роль для Cursor AI, которая будет обнаруживать потенциальные галлюцинации в ответах AI-ассистента.

## Этап 1: Анализ требований

### Что такое галлюцинации в контексте AI:
- Несоответствия с предыдущими промптами или требованиями
- Выдуманный код или объяснения, не соответствующие реальному контексту
- Ссылки на несуществующие API, методы или файлы
- Неправильная интерпретация инструкций промпта

### Функциональные требования роли:
- Анализ как кода, так и текста
- Возможность пошагового обзора каждого взаимодействия из `prompt_logs`
- Сравнение финальных результатов (`spec.md`, `README.md`) с ожиданиями
- Выделение сомнительных сегментов с обоснованием
- Вывод анализа в markdown с четкими разделами

## Этап 2: Создание файла роли

### Структура файла `.cursor/rules/roles/hallucination_checker.mdc`:

```markdown
---
description: Agent that detects potential hallucinations in AI responses
agentRequested: true
---

- You are an assistant tasked with detecting potential hallucinations in AI-generated content.
- Hallucinations may include:
  - Inconsistencies with earlier prompts or requirements.
  - Fabricated code or explanations that don't match the actual context.
  - References to non-existent APIs, methods, or files.
  - Misinterpretation of prompt instructions.
- Analyze both code and text.
- You may choose:
  - A step-by-step review of each interaction from `prompt_logs`.
  - Or a comparison of final results (`spec.md`, `README.md`) against expectations.
- Highlight any questionable segments with justification.
- Output your analysis in markdown with clear sections.
```

### Обоснование выбора структуры:
1. **YAML frontmatter**: Стандартный формат для метаданных в markdown
2. **agentRequested: true**: Позволяет запрашивать роль по требованию
3. **Четкие критерии**: Конкретные типы галлюцинаций для проверки
4. **Гибкость анализа**: Два подхода к анализу (пошаговый или сравнительный)
5. **Структурированный вывод**: Markdown формат для удобного чтения

## Этап 3: Тестирование концепции

### Планируемые тестовые сценарии:
1. **Анализ существующих логов**: Проверка `prompt_logs/brainstorm.md` и `prompt_logs/webinar_2_logs.md`
2. **Сравнение документации**: Анализ соответствия `README.md` и `spec.md`
3. **Проверка кода**: Анализ реализованного кода на соответствие спецификации

### Ожидаемые результаты:
- Выявление несоответствий между требованиями и реализацией
- Обнаружение потенциальных ошибок в документации
- Проверка логичности и последовательности разработки

## Этап 4: Интеграция с проектом

### Обновления в документации:
- **README.md**: Добавить информацию о новой роли
- **spec.md**: Включить выводы по обнаруженным галлюцинациям

### Преимущества внедрения роли:
1. **Качество кода**: Снижение риска внедрения неработающего кода
2. **Консистентность**: Обеспечение соответствия документации и реализации
3. **Отладка**: Быстрое выявление проблем в процессе разработки
4. **Обучение**: Помощь в понимании типичных ошибок AI-ассистентов

## Заключение

Роль "Hallucination Checker" создана для повышения качества разработки с использованием AI-ассистентов. Она обеспечивает дополнительный уровень проверки и помогает избежать внедрения некорректного кода или документации.

### Следующие шаги:
1. Протестировать роль на практике
2. Внести необходимые корректировки
3. Обновить документацию проекта
4. Создать Pull Request с изменениями 